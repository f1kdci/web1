<!DOCTYPE html>
<html lang="hu">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kezd≈ëlap</title>
    <link rel="stylesheet" href="index.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <header>
        <h1>Web-programoz√°s-1 El≈ëad√°s H√°zi feladat</h1>
    </header>

    <nav>
        <ul>
            <li><a href="tablazat.html">T√°bl√°zat</a></li>
            <li><a href="html5.html" class="active">HTML5</a></li>
            <li><a href="chartjs.html">ChartJS</a></li>
            <li><a href="ajax.html">AJAX</a></li>
            <li><a href="oojs.html">OOJS</a></li>
        </ul>
    </nav>

    <main>

        <aside class="sidebar">
            <img src="sidebar.png" class="img-fluid" alt="Sidebar Image">
        </aside>
        <div>
            <div class="section">
                <h3>Jegyzetek</h3>
                <label for="noteInput">Ide √≠rd a jegyzeteid:</label>
                <textarea id="noteInput" placeholder="√çrja ide a jegyzeteit..." rows="4"
                    style="width: 100%;"></textarea>
                <button onclick="saveNote()">Jegyzet ment√©se</button>
                <button onclick="loadNote()">Jegyzet bet√∂lt√©se</button>
                <button onclick="clearNote()">Jegyzet t√∂rl√©se</button>
                <p id="noteOutput" style="margin-top: 10px; font-style: italic;"></p>
            </div>

            <div class="section">
                <h3>üß∂ Horgol√°s Id≈ëm√©r≈ë</h3>
                <button onclick="startTimer()">Ind√≠t√°s</button>
                <button onclick="stopTimer()">Le√°ll√≠t√°s</button>
                <button onclick="resetTimer()">Null√°z√°s</button>
                <p id="timerOutput">Eltelt id≈ë: 0 mp</p>
            </div>

            <div class="section">
                <h3>Getting Server Updates</h3>
                <div id="result"></div>
            </div>

            <div class="section">
                <h3>F√°jl felt√∂lt√©se</h3>
                <div id="dropZone" class="drop-zone">
                    <p>H√∫zza ide a f√°jlt vagy kattintson a felt√∂lt√©shez</p>
                    <input type="file" id="fileInput" style="display: none;">
                </div>
                <p id="uploadMessage"></p>
                <div id="uploadedImageContainer" style="margin-top: 20px;">
                    <h4>Felt√∂lt√∂tt k√©p:</h4>
                    <div id="uploadedImage" style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                        <p>Nincs felt√∂lt√∂tt k√©p.</p>
                    </div>
                </div>
            </div>

            <div class="section">
                <h3>üé® Rajzol√°s</h3>
                <canvas id="drawingCanvas" width="500" height="300" style="border: 1px solid #000;"></canvas>
                <button onclick="clearCanvas()">V√°szon t√∂rl√©se</button>
                <button onclick="saveCanvas()">V√°szon ment√©se</button>
            </div>
            <h1>SVG</h1>

            <!-- SVG Container -->
            <svg viewBox="0 0 300 200" width="300" height="200"
                style="border: 1px solid #ccc; background-color: white;">
                <!-- Circle -->
                <circle cx="50" cy="50" r="40" stroke="black" stroke-width="2" fill="red" />

                <!-- Rectangle -->
                <rect x="120" y="20" width="60" height="60" stroke="black" stroke-width="2" fill="blue" />

                <!-- Line -->
                <line x1="220" y1="20" x2="260" y2="80" stroke="green" stroke-width="4" />

                <!-- Text -->
                <text x="30" y="120" fill="purple" font-size="16">SVG Text</text>

                <!-- Path (simple) -->
                <path d="M100 120 L200 120 L150 170 Z" fill="orange" stroke="black" stroke-width="2" />
            </svg>
        </div>
        </div>
    </main>

    <script>
        // Jegyzet ment√©se
        function saveNote() {
            const note = document.getElementById("noteInput").value;
            if (note.trim() === "") {
                alert("K√©rj√ºk, √≠rjon be egy jegyzetet a ment√©shez.");
                return;
            }
            localStorage.setItem("crochetNote", note);
            alert("Jegyzet sikeresen mentve!");
        }

        // Jegyzet bet√∂lt√©se
        function loadNote() {
            const savedNote = localStorage.getItem("crochetNote");
            if (savedNote) {
                document.getElementById("noteOutput").innerText = `Mentett jegyzet: ${savedNote}`;
            } else {
                document.getElementById("noteOutput").innerText = "Nincs mentett jegyzet.";
            }
        }

        // Jegyzet t√∂rl√©se
        function clearNote() {
            localStorage.removeItem("crochetNote");
            document.getElementById("noteOutput").innerText = "";
            alert("Jegyzet sikeresen t√∂r√∂lve!");
        }
    </script>
    <script>
        // A Web Worker inicializ√°l√°sa
        const timerWorker = new Worker("idozitoWorker.js");

        // Az √ºzenetek kezel√©se a workerb≈ël
        timerWorker.onmessage = function (e) {
            const { type, seconds, message } = e.data;

            if (type === "tick") {
                document.getElementById("timerOutput").innerText = `Eltelt id≈ë: ${seconds} m√°sodperc`;
            } else if (type === "status") {
                console.log(message); // √Ållapot√ºzenetek napl√≥z√°sa (pl. "Id≈ëz√≠t≈ë elind√≠tva")
            }
        };

        // Az id≈ëz√≠t≈ë ind√≠t√°sa
        function startTimer() {
            timerWorker.postMessage("start");
        }

        // Az id≈ëz√≠t≈ë le√°ll√≠t√°sa
        function stopTimer() {
            timerWorker.postMessage("stop");
        }

        // Az id≈ëz√≠t≈ë null√°z√°sa
        function resetTimer() {
            timerWorker.postMessage("reset");
        }
    </script>
    <script>
        // Ellen≈ërzi, hogy a b√∂ng√©sz≈ë t√°mogatja-e a Server-Sent Events (SSE) technol√≥gi√°t
        if (typeof (EventSource) !== "undefined") {
            var source = new EventSource("demo_sse.php"); // Kapcsol√≥dik a szerverhez
            let messageCount = 0; // √úzenetek sz√°ml√°l√≥ja

            source.onmessage = function (event) {
                // A szerverr≈ël √©rkez≈ë √ºzeneteket hozz√°adja az #result elemhez
                document.getElementById("result").innerHTML += event.data + "<br>";
                messageCount++; // N√∂veli az √ºzenetek sz√°ml√°l√≥j√°t

                // Ha el√©rte a 3 √ºzenetet, lez√°rja a kapcsolatot
                if (messageCount >= 3) {
                    source.close(); // SSE kapcsolat lez√°r√°sa
                    document.getElementById("result").innerHTML += "<p><em>Kapcsolat lez√°rva 3 √ºzenet ut√°n.</em></p>";
                }
            };
        } else {
            // Ha a b√∂ng√©sz≈ë nem t√°mogatja az SSE-t, hiba√ºzenetet jelen√≠t meg
            document.getElementById("result").innerHTML = "Sorry, your browser does not support server-sent events...";
        }
    </script>
    <script>
        const dropZone = document.getElementById("dropZone");
        const fileInput = document.getElementById("fileInput");
        const uploadMessage = document.getElementById("uploadMessage");
        const galleryContainer = document.querySelector(".gallery-container");

        // A kiemel√©s elt√°vol√≠t√°sa, amikor az eg√©r elhagyja a drop z√≥n√°t
        dropZone.addEventListener("dragleave", () => {
            dropZone.classList.remove("dragover");
        });

        // A drop z√≥na kiemel√©se, amikor egy f√°jlt f√∂l√© h√∫znak
        dropZone.addEventListener("dragover", (event) => {
            event.preventDefault();
            dropZone.classList.add("dragover");
        });

        // F√°jlok kezel√©se, amikor azokat a drop z√≥n√°ba dobj√°k
        dropZone.addEventListener("drop", (event) => {
            event.preventDefault();
            dropZone.classList.remove("dragover");
            const files = event.dataTransfer.files;
            handleFiles(files);
        });

        // F√°jl kiv√°laszt√°sa kattint√°ssal
        dropZone.addEventListener("click", () => {
            fileInput.click();
        });

        // F√°jlok kezel√©se a f√°jlv√°laszt√≥ p√°rbesz√©dablakb√≥l
        fileInput.addEventListener("change", (event) => {
            const files = event.target.files;
            handleFiles(files);
        });

        // F√°jlok feldolgoz√°sa
        function handleFiles(files) {
            if (files.length === 0) {
                uploadMessage.innerText = "Nincs kiv√°lasztott f√°jl.";
                return;
            }

            const file = files[0];
            if (!file.type.startsWith("image/")) {
                uploadMessage.innerText = "Csak k√©pf√°jlokat t√∂lthet fel!";
                return;
            }

            const reader = new FileReader();
            reader.onload = (event) => {
                const img = document.createElement("img");
                img.src = event.target.result;
                img.alt = "Felt√∂lt√∂tt k√©p";
                img.style.maxWidth = "100%";
                img.style.height = "auto";

                const uploadedImageContainer = document.getElementById("uploadedImage");
                uploadedImageContainer.innerHTML = ""; // Clear previous content
                uploadedImageContainer.appendChild(img); // Add the new image

                uploadMessage.innerText = "A k√©p sikeresen hozz√°adva!";
            };
            reader.readAsDataURL(file);
        }

        const canvas = document.getElementById("drawingCanvas");
        const ctx = canvas.getContext("2d");
        let isDrawing = false;

        // Rajzol√°s ind√≠t√°sa
        canvas.addEventListener("mousedown", (event) => {
            isDrawing = true;
            ctx.beginPath();
            ctx.moveTo(event.offsetX, event.offsetY);
        });

        // Rajzol√°s a v√°sznon
        canvas.addEventListener("mousemove", (event) => {
            if (isDrawing) {
                ctx.lineTo(event.offsetX, event.offsetY);
                ctx.strokeStyle = "#ff1493"; // Rajzol√°si sz√≠n
                ctx.lineWidth = 2; // Vonalvastags√°g
                ctx.stroke();
            }
        });

        // Rajzol√°s le√°ll√≠t√°sa
        canvas.addEventListener("mouseup", () => {
            isDrawing = false;
            ctx.closePath();
        });

        canvas.addEventListener("mouseleave", () => {
            isDrawing = false;
            ctx.closePath();
        });

        // V√°szon t√∂rl√©se
        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        // V√°szon ment√©se k√©pk√©nt
        function saveCanvas() {
            const link = document.createElement("a");
            link.download = "rajz.png";
            link.href = canvas.toDataURL();
            link.click();
        }
    </script>
    <footer>
        <p>Laczik√≥ Henrietta - F1KDCI</p>
    </footer>
</body>

</html>
```